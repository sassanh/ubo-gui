#:kivy 2.2.1

<ItemWidget>:
  height: dp(52)
  canvas.before:
    Color:
      rgba: root.background_color if root.is_set else (0, 0, 0, 0)

    RoundedRectangle:
      pos: self.pos
      size: (dp(50) if self.is_short else self.size[0] - dp(40), self.size[1]) if root.is_set else (0, 0)
      radius: (0, 0), (60, 60), (60, 60), (0, 0)

  BoxLayout:
    size: root.size
    pos: root.pos
    orientation: 'horizontal'
    spacing: dp(8)

    Widget:
      width: 4
      size_hint: None, 1

    AnchorLayout:
      width: svg.width
      size_hint: None, 1

      SvgWidget:
        id: svg
        source: root.icon_path if root.is_set else ''
        size: self.parent.height - dp(25), self.parent.height - dp(25)
        size_hint: None, None

    Label:
      pos: root.pos
      color: root.color
      font_size: dp(18)
      text: '' if root.is_short else root.label
      text_size: self.size
      size_hint: 1, 1
      halign: 'left'
      valign: 'middle'
