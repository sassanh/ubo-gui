#:kivy 2.3.0

<ProgressRingWidget>:
  _progress: int(self.progress * 360)
  width: min(*self.size)
  height: min(*self.size)

  canvas.before:
    Color:
      rgba: self.background_color

    Ellipse:
      pos: self.pos
      size: self.size
      angle_start: 0
      angle_end: 360

    Color:
      rgba: self.color

    Ellipse:
      pos: [i + dp(1) for i in self.pos]
      size: [i - dp(2) for i in self.size]
      angle_start: 0
      angle_end: self._progress

    Color:
      rgba: self.background_color

    Ellipse:
      pos: [i + dp(1) + self.band_width for i in self.pos]
      size: [i - dp(2) - 2 * self.band_width for i in self.size]
      angle_start: 0
      angle_end: 360

    Color:
      rgb: 0, 0 ,0

    Ellipse:
      pos: [i + dp(2) + self.band_width for i in self.pos]
      size: [i - dp(4) - 2 * self.band_width for i in self.size]
      angle_start: 0
      angle_end: 360
